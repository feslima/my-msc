\ProvidesPackage{thesispreamble}

% ------------------------------------------------------------------------------
% Pacotes básicos 
% ------------------------------------------------------------------------------
\usepackage{lmodern}			% Usa a fonte Latin Modern			
\usepackage[T1]{fontenc}		% Selecao de codigos de fonte.
\usepackage[utf8]{inputenc}		% Codificacao do documento (conversão automática dos acentos)
\usepackage{indentfirst}		% Indenta o primeiro parágrafo de cada seção.
\usepackage{color}				% Controle das cores
\usepackage{graphicx}			% Inclusão de gráficos
\usepackage{microtype} 			% para melhorias de justificação
\usepackage{nomencl}
\usepackage{subfiles}
\usepackage{etoolbox}
\usepackage{amsmath}

% ------------------------------------------------------------------------------
		
% ------------------------------------------------------------------------------
% Pacotes adicionais, usados apenas no âmbito do Modelo Canônico do abnteX2
% ------------------------------------------------------------------------------
\usepackage{lipsum}				% para geração de dummy text
% ------------------------------------------------------------------------------

% ------------------------------------------------------------------------------
% Pacotes de citações
% ------------------------------------------------------------------------------
% \usepackage[brazilian,hyperpageref]{backref}	 % Paginas com as citações na bibl
\usepackage[style=abnt, backend=biber, repeatfields=true]{biblatex}	% Citações padrão ABNT

% ------------------------------------------------------------------------------ 
% CONFIGURAÇÕES DE PACOTES
% ------------------------------------------------------------------------------ 

% ------------------------------------------------------------------------------
% arquivo de bibliografia
\addbibresource{references/bibliography.bib}
% ------------------------------------------------------------------------------

% ------------------------------------------------------------------------------
% Repositório de imagens
\graphicspath{{images/}}
% ------------------------------------------------------------------------------

% ------------------------------------------------------------------------------
% lista de símbolos e lista de siglas
\makenomenclature

\newif\iffirstglossary\firstglossarytrue
\renewcommand\nomgroup[1]{%
\iffirstglossary
    \firstglossaryfalse
\else
    \cleardoublepage
\fi
\item[]%
{\hfil\ABNTEXchapterfont\ABNTEXchapterfontsize %
\ifstrequal{#1}{A}{%
    \listadesiglasname%
}{%
    \ifstrequal{#1}{S}{\listadesimbolosname}{}%
}%
\hfil} %
%] %
\thispagestyle{empty}}

\renewcommand{\nomname}{}

% ------------------------------------------------------------------------------


% ------------------------------------------------------------------------------
% Informações de dados para CAPA e FOLHA DE ROSTO
% ------------------------------------------------------------------------------
\titulo{Modelo Canônico de\\ Trabalho Acadêmico com \abnTeX}
\autor{Equipe \abnTeX}
\local{Brasil}
\data{2018, v-1.9.7}
\orientador{Lauro César Araujo}
\coorientador{Equipe \abnTeX}
\instituicao{%
  Universidade do Brasil -- UBr
  \par
  Faculdade de Arquitetura da Informação
  \par
  Programa de Pós-Graduação}
\tipotrabalho{Tese (Doutorado)}
% O preambulo deve conter o tipo do trabalho, o objetivo, 
% o nome da instituição e a área de concentração 
\preambulo{Modelo canônico de trabalho monográfico acadêmico em conformidade com
as normas ABNT apresentado à comunidade de usuários \LaTeX.}
% ------------------------------------------------------------------------------


% ------------------------------------------------------------------------------
% Configurações de aparência do PDF final

% alterando o aspecto da cor azul
\definecolor{blue}{RGB}{41,5,195}

% informações do PDF
\makeatletter
\hypersetup{
     	%pagebackref=true,
		pdftitle={\@title}, 
		pdfauthor={\@author},
    	pdfsubject={\imprimirpreambulo},
	    pdfcreator={LaTeX with abnTeX2},
		pdfkeywords={abnt}{latex}{abntex}{abntex2}{trabalho acadêmico}, 
		colorlinks=true,       		% false: boxed links; true: colored links
    	linkcolor=blue,          	% color of internal links
    	citecolor=blue,        		% color of links to bibliography
    	filecolor=magenta,      		% color of file links
		urlcolor=blue,
		bookmarksdepth=4
}
\makeatother
% ------------------------------------------------------------------------------ 

% ------------------------------------------------------------------------------
% Posiciona figuras e tabelas no topo da página quando adicionadas sozinhas
% em um página em branco. Ver https://github.com/abntex/abntex2/issues/170
\makeatletter
\setlength{\@fptop}{5pt} % Set distance from top of page to first float
\makeatother
% ------------------------------------------------------------------------------

% ------------------------------------------------------------------------------
% Possibilita criação de Quadros e Lista de quadros.
% Ver https://github.com/abntex/abntex2/issues/176
%
\newcommand{\quadroname}{Quadro}
\newcommand{\listofquadrosname}{Lista de quadros}

\newfloat[chapter]{quadro}{loq}{\quadroname}
\newlistof{listofquadros}{loq}{\listofquadrosname}
\newlistentry{quadro}{loq}{0}

\addto\captionsenglish{
	% Traducao para o ingles de lista de quadros
	\renewcommand{\listofquadrosname}{List of frames}
	\renewcommand{\quadroname}{Frame}
	% Tabelas
	\renewcommand{\tableautorefname}{Table}
	% Figuras
	\renewcommand{\figureautorefname}{Figure}
	% Equações
	\renewcommand{\equationautorefname}{Equation}
}

% configurações para atender às regras da ABNT
\setfloatadjustment{quadro}{\centering}
\counterwithout{quadro}{chapter}
\renewcommand{\cftquadroname}{\quadroname\space} 
\renewcommand*{\cftquadroaftersnum}{\hfill--\hfill}

\setfloatlocations{quadro}{hbtp} % Ver https://github.com/abntex/abntex2/issues/176
% ------------------------------------------------------------------------------

% ------------------------------------------------------------------------------ 
% Espaçamentos entre linhas e parágrafos 
% ------------------------------------------------------------------------------ 

% O tamanho do parágrafo é dado por:
\setlength{\parindent}{1.3cm}

% Controle do espaçamento entre um parágrafo e outro:
\setlength{\parskip}{0.2cm}  % tente também \onelineskip

% ------------------------------------------------------------------------------
% compila o indice
% ------------------------------------------------------------------------------
\makeindex
% ------------------------------------------------------------------------------
